exporters:
  logging:
    loglevel: info
  otlp/dev:
    endpoint: https://api.honeycomb.io:443
    headers:
      x-honeycomb-team: ${HONEYCOMB_API_DEV_TOKEN}
  otlp/stage:
    endpoint: https://api.honeycomb.io:443
    headers:
      x-honeycomb-team: ${HONEYCOMB_API_STAGE_TOKEN}
  otlphttp:
    endpoint: https://api.honeycomb.io:443
    headers:
      x-honeycomb-team: ${HONEYCOMB_API_TOKEN}
  sapm:
    access_token: ${SIGNALFX_DEFAULT}
    endpoint: "https://ingest.us1.signalfx.com/v2/trace"
  signalfx:
    endpoint: "https://api.signalfx.com/v2/traces"
    access_token: ${SIGNALFX_DEFAULT}
    realm: "us1"
    api_url: "https://api.us1.signalfx.com"
extensions:
  health_check: {}
  memory_ballast:
    size_in_percentage: 40
processors:
  batch: {}
  memory_limiter:
    check_interval: 2s
    limit_mib: 512
    spike_limit_percentage: 128
receivers:
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317
        max_recv_msg_size_mib: 999999999
      http:
        endpoint: 0.0.0.0:4318
  otlp/dev:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4319
        max_recv_msg_size_mib: 999999999
      http:
        endpoint: 0.0.0.0:4320
  otlp/stage:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4321
        max_recv_msg_size_mib: 999999999
      http:
        endpoint: 0.0.0.0:4322
service:
  extensions:
  - health_check
  - memory_ballast
  pipelines:
    logs:
      exporters:
      - logging
      processors:
      - memory_limiter
      - batch
      receivers:
      - otlp
      - otlp/dev
      - otlp/stage
    traces:
      exporters:
      - logging
      - otlphttp
      - sapm
      - signalfx
      processors:
      - memory_limiter
      - batch
      receivers:
      - otlp
    traces/dev:
      exporters:
      - logging
      - otlp/dev
      - sapm
      - signalfx
      processors:
      - memory_limiter
      - batch
      receivers:
      - otlp/dev
    traces/stage:
      exporters:
      - logging
      - otlp/stage
      - sapm
      - signalfx
      processors:
      - memory_limiter
      - batch
      receivers:
      - otlp/stage
  telemetry:
    metrics:
      address: ${env:MY_POD_IP}:8888
